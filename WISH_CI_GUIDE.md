# è®¸æ„¿æ±  CI å®¡æ ¸æœºåˆ¶ï¼ˆGitHub Issues æ–¹æ¡ˆï¼‰

## ğŸ¯ å·¥ä½œåŸç†

è¿™æ˜¯ä¸€ä¸ªå®Œå…¨è‡ªåŠ¨åŒ–çš„ CI/CD å®¡æ ¸ç³»ç»Ÿï¼Œé€šè¿‡ **GitHub Issues** ä½œä¸ºä¸­é—´å­˜å‚¨å±‚ã€‚

### æ¶æ„æµç¨‹å›¾

```
ç”¨æˆ·å¡«å†™è¡¨å•
    â†“
è·³è½¬åˆ° GitHub Issues
    â†“
åˆ›å»ºå¸¦æ ‡ç­¾çš„ Issue (wish, pending-review)
    â†“
GitHub Actions è‡ªåŠ¨è§¦å‘
    â†“
è¯»å–å¹¶è§£æ Issue å†…å®¹
    â†“
è‡ªåŠ¨å®¡æ ¸ï¼ˆè¿‡æ»¤ã€éªŒè¯ï¼‰
    â†“
æ›´æ–° wishes.json
    â†“
å…³é—­ Issue + æ·»åŠ è¯„è®º
    â†“
åˆ›å»º Pull Request
    â†“
ç®¡ç†å‘˜å®¡æ ¸å¹¶åˆå¹¶
    â†“
ç½‘ç«™è‡ªåŠ¨æ›´æ–°æ˜¾ç¤º
```

## ğŸ“ ä½¿ç”¨æ­¥éª¤

### 1. é…ç½®ä»“åº“åœ°å€

åœ¨ `src/components/WishPoolPage.tsx` ç¬¬ 72 è¡Œï¼š
```typescript
const repoUrl = 'https://github.com/YOUR_USERNAME/FreeHub'; // æ›¿æ¢ä¸ºå®é™…ä»“åº“åœ°å€
```

### 2. ç”¨æˆ·æäº¤æµç¨‹

1. ç”¨æˆ·åœ¨ç½‘ç«™å¡«å†™è®¸æ„¿è¡¨å•
2. ç‚¹å‡»"å‘é€æ„¿æœ›"æŒ‰é’®
3. **è‡ªåŠ¨è·³è½¬**åˆ° GitHub Issues åˆ›å»ºé¡µé¢ï¼ˆå†…å®¹å·²é¢„å¡«ï¼‰
4. ç”¨æˆ·åœ¨ GitHub ä¸Šå®Œæˆæäº¤
5. ç³»ç»Ÿæç¤ºï¼šå·²æ‰“å¼€æ–°çª—å£ï¼Œè¯·å®Œæˆæäº¤

### 3. è‡ªåŠ¨å®¡æ ¸æµç¨‹

#### è§¦å‘æ¡ä»¶
- **å³æ—¶è§¦å‘**ï¼šæœ‰æ–° Issue åˆ›å»ºä¸”å¸¦ `wish` æ ‡ç­¾
- **å®šæ—¶è§¦å‘**ï¼šæ¯å¤©åŒ—äº¬æ—¶é—´ 8:00 è‡ªåŠ¨è¿è¡Œ
- **æ‰‹åŠ¨è§¦å‘**ï¼šåœ¨ Actions é¡µé¢æ‰‹åŠ¨è¿è¡Œ

#### å®¡æ ¸è§„åˆ™
```javascript
âœ… å†…å®¹é•¿åº¦ï¼š10-500 å­—ç¬¦
âœ… å…³é”®è¯è¿‡æ»¤ï¼šspam, å¹¿å‘Š, test123, åƒåœ¾
âœ… æ ¼å¼éªŒè¯ï¼šèƒ½æ­£ç¡®è§£æ Issue ç»“æ„
âœ… å»é‡æ£€æŸ¥ï¼šé¿å…é‡å¤æäº¤
```

#### è‡ªåŠ¨åŒ–æ“ä½œ
1. è¯»å–æ‰€æœ‰å¸¦ `wish` + `pending-review` æ ‡ç­¾çš„ Issues
2. è§£æ Issue å†…å®¹ï¼ˆåŠŸèƒ½éœ€æ±‚ã€åŒç±»äº§å“ã€æäº¤è€…ï¼‰
3. åº”ç”¨å®¡æ ¸è§„åˆ™è¿‡æ»¤
4. é€šè¿‡å®¡æ ¸çš„æ·»åŠ åˆ° `wishes.json`
5. è‡ªåŠ¨å…³é—­ Issue
6. ç§»é™¤ `pending-review` æ ‡ç­¾ï¼Œæ·»åŠ  `approved` æ ‡ç­¾
7. åœ¨ Issue ä¸­è‡ªåŠ¨å›å¤ï¼š"âœ… æ‚¨çš„æ„¿æœ›å·²å®¡æ ¸é€šè¿‡..."
8. åˆ›å»º Pull Request

### 4. ç®¡ç†å‘˜æ“ä½œ

ç®¡ç†å‘˜åªéœ€è¦ï¼š
1. æŸ¥çœ‹ GitHub Actions åˆ›å»ºçš„ Pull Request
2. æ£€æŸ¥æ–°æ·»åŠ çš„è®¸æ„¿å†…å®¹
3. åˆå¹¶ PRï¼ˆæˆ–æ‹’ç»ï¼‰
4. ç½‘ç«™è‡ªåŠ¨æ›´æ–°

## ğŸ“‚ ç›¸å…³æ–‡ä»¶

```
.github/
â”œâ”€â”€ ISSUE_TEMPLATE/
â”‚   â””â”€â”€ wish-submission.md              # Issue æ¨¡æ¿
â””â”€â”€ workflows/
    â””â”€â”€ process-wish-issues.yml         # CI å·¥ä½œæµ

src/components/
â””â”€â”€ WishPoolPage.tsx                    # å‰ç«¯ç»„ä»¶

public/
â””â”€â”€ wishes.json                         # æ„¿æœ›æ•°æ®
```

## âš™ï¸ å·¥ä½œæµæ–‡ä»¶è¯´æ˜

### process-wish-issues.yml

**è§¦å‘æ¡ä»¶ï¼š**
```yaml
on:
  issues:
    types: [opened, labeled]     # Issue åˆ›å»ºæˆ–æ‰“æ ‡ç­¾æ—¶
  schedule:
    - cron: '0 0 * * *'          # æ¯å¤©å®šæ—¶
  workflow_dispatch:              # æ‰‹åŠ¨è§¦å‘
```

**æƒé™è¦æ±‚ï¼š**
```yaml
permissions:
  contents: write      # å†™å…¥æ–‡ä»¶
  issues: write        # æ“ä½œ Issues
  pull-requests: write # åˆ›å»º PR
```

**æ ¸å¿ƒæ­¥éª¤ï¼š**
1. **Checkout** - æ£€å‡ºä»£ç 
2. **Fetch and Process** - ä» Issues è·å–å¹¶å¤„ç†
3. **Close Issues** - å…³é—­å·²å¤„ç†çš„ Issue
4. **Create PR** - åˆ›å»º Pull Request

## ğŸ¨ ç”¨æˆ·ä½“éªŒ

### å‰ç«¯è¡¨å•
- å¡«å†™åŠŸèƒ½éœ€æ±‚ï¼ˆå¿…å¡«ï¼‰
- å¡«å†™åŒç±»äº§å“ï¼ˆå¯é€‰ï¼‰
- å¡«å†™æäº¤è€…å§“åï¼ˆå¯é€‰ï¼‰

### æäº¤å
- è‡ªåŠ¨æ‰“å¼€æ–°çª—å£ï¼ˆGitHub Issuesï¼‰
- å†…å®¹å·²é¢„å¡«ï¼Œç”¨æˆ·åªéœ€ç¡®è®¤
- æç¤ºæ¶ˆæ¯ï¼š"å·²ä¸ºæ‚¨æ‰“å¼€ GitHub Issues é¡µé¢"

### Issue å…³é—­æ—¶
- è‡ªåŠ¨è¯„è®ºé€šçŸ¥ç”¨æˆ·
- ç§»é™¤ pending-review æ ‡ç­¾
- æ·»åŠ  approved æ ‡ç­¾

## ğŸ›¡ï¸ å®‰å…¨æ€§

### ä¼˜åŠ¿
âœ… ä¸éœ€è¦åç«¯æœåŠ¡å™¨
âœ… ä¸éœ€è¦æ•°æ®åº“
âœ… åˆ©ç”¨ GitHub çš„è®¤è¯ç³»ç»Ÿ
âœ… æ‰€æœ‰æ“ä½œå¯è¿½æº¯
âœ… Issue å¯å…¬å¼€é€æ˜
âœ… ä¸ä¼šæš´éœ² API Token

### é™åˆ¶
- éœ€è¦ GitHub è´¦å·æ‰èƒ½æäº¤
- æäº¤ä¼šå…¬å¼€æ˜¾ç¤º
- å— GitHub API é€Ÿç‡é™åˆ¶

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰å®¡æ ¸è§„åˆ™

ç¼–è¾‘ `process-wish-issues.yml` ä¸­çš„ `filterContent` å‡½æ•°ï¼š

```javascript
function filterContent(text) {
  const forbiddenWords = ['spam', 'å¹¿å‘Š']; // è‡ªå®šä¹‰é»‘åå•
  const lowerText = text.toLowerCase();
  return !forbiddenWords.some(word => lowerText.includes(word)) &&
         text.length >= 10 &&      // æœ€å°é•¿åº¦
         text.length <= 500;       // æœ€å¤§é•¿åº¦
}
```

### ä¿®æ”¹å®šæ—¶é¢‘ç‡

```yaml
schedule:
  - cron: '0 */6 * * *'  # æ¯ 6 å°æ—¶è¿è¡Œä¸€æ¬¡
```

### æ·»åŠ é€šçŸ¥

å¯ä»¥æ·»åŠ  Slack/Discord/Email é€šçŸ¥ï¼š

```yaml
- name: Notify
  uses: 8398a7/action-slack@v3
  with:
    status: ${{ job.status }}
    text: 'New wishes processed!'
```

## ğŸ“Š ç›‘æ§å’Œç»Ÿè®¡

### æŸ¥çœ‹å¤„ç†è®°å½•
- GitHub Actions æ‰§è¡Œå†å²
- Issues åˆ—è¡¨ï¼ˆè¿‡æ»¤ approved æ ‡ç­¾ï¼‰
- Pull Requests å†å²

### ç»Ÿè®¡ä¿¡æ¯
```bash
# ç»Ÿè®¡å·²å¤„ç†çš„æ„¿æœ›æ•°é‡
gh issue list --label approved --state closed | wc -l

# ç»Ÿè®¡å¾…å¤„ç†çš„æ„¿æœ›
gh issue list --label pending-review --state open
```

## ğŸš€ éƒ¨ç½²æ¸…å•

- [ ] 1. æ›¿æ¢ä»“åº“åœ°å€ï¼ˆWishPoolPage.tsx ç¬¬ 72 è¡Œï¼‰
- [ ] 2. æäº¤ä»£ç åˆ° GitHub
- [ ] 3. å¯ç”¨ GitHub Actions
- [ ] 4. æµ‹è¯• Issue åˆ›å»º
- [ ] 5. è§‚å¯Ÿè‡ªåŠ¨å¤„ç†æµç¨‹
- [ ] 6. å®¡æ ¸å¹¶åˆå¹¶ PR
- [ ] 7. éªŒè¯ç½‘ç«™æ›´æ–°

## â“ å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆä¸ç›´æ¥é€šè¿‡ API æäº¤ï¼Ÿ**
A: ä½¿ç”¨ Issues ä¸éœ€è¦æš´éœ² GitHub Tokenï¼Œæ›´å®‰å…¨ã€‚

**Q: ç”¨æˆ·å¿…é¡»æœ‰ GitHub è´¦å·å—ï¼Ÿ**
A: æ˜¯çš„ï¼Œè¿™æ˜¯ä½¿ç”¨ Issues çš„é™åˆ¶ã€‚å¦‚éœ€åŒ¿åæäº¤ï¼Œè€ƒè™‘æ·»åŠ åç«¯ã€‚

**Q: å®¡æ ¸è§„åˆ™å¯ä»¥æ›´æ™ºèƒ½å—ï¼Ÿ**
A: å¯ä»¥é›†æˆ AI æ¨¡å‹ï¼ˆå¦‚ OpenAIï¼‰è¿›è¡Œå†…å®¹å®¡æ ¸ã€‚

**Q: èƒ½å¦æ‰¹é‡å¯¼å…¥ç°æœ‰æ„¿æœ›ï¼Ÿ**
A: å¯ä»¥ï¼Œæ‰‹åŠ¨ç¼–è¾‘ `wishes.json` æˆ–åˆ›å»ºæ‰¹é‡ Issuesã€‚

## ğŸ¯ å¯¹æ¯”å…¶ä»–æ–¹æ¡ˆ

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|
| **GitHub Issues** (å½“å‰) | æ— éœ€æœåŠ¡å™¨ã€å¯è¿½æº¯ã€å®‰å…¨ | éœ€è¦ GitHub è´¦å· |
| localStorage | ç®€å• | CI æ— æ³•è®¿é—® |
| åç«¯ API | åŠŸèƒ½å¼ºå¤§ | éœ€è¦æœåŠ¡å™¨ã€æˆæœ¬ |
| Google Forms | ç®€å•æ˜“ç”¨ | éœ€è¦æ‰‹åŠ¨åŒæ­¥ |
| Airtable | åŠŸèƒ½ä¸°å¯Œ | ç¬¬ä¸‰æ–¹ä¾èµ– |

## ğŸ“ è®¸å¯

æ­¤æ–¹æ¡ˆå®Œå…¨å¼€æºï¼Œå¯è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ã€‚
